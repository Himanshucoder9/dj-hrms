<!DOCTYPE html>
<html lang="en">
<head>
  {% load static %}
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>{% block title %}{% endblock title %}</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <!--  <link href="{% static 'assets/img/favicon.png' %}" rel="icon">-->
  <!--  <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">-->

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link href="{% static 'assets/vendor/simple-datatables/style.css' %}" rel="stylesheet">
  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">
  <script src="{% static 'assets/vendor/jquery/jquery.min.js' %}"></script>
  <link rel="stylesheet" href="{% static 'assets/vendor/datatable/css/jquery.dataTables.min.css' %}">
  <link rel="stylesheet" href="{% static 'assets/vendor/datatable/css/buttons.dataTables.min.css' %}">
  {% block css %}{% endblock css %}
  {% block js %}{% endblock js %}
</head>

<body>
{% block body %}

{% endblock body %}

<!-- Vendor JS Files -->
<script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="assets/vendor/chart.js/chart.umd.js"></script>
<script src="{% static 'assets/vendor/simple-datatables/simple-datatables.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/buttons.flash.min.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/jszip.min.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/pdfmake.min.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/vfs_fonts.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'assets/vendor/datatable/js/buttons.print.min.js' %}"></script>
<script type="text/javascript">
 $(document).ready(function() {
    var table = $('#my-datatable').DataTable({
        dom: 'Bfrtip',
        buttons: [
            {
                text: 'Export',
                extend: 'collection',
                buttons: [
                    {
                        extend: 'csv',
                        exportOptions: {
                            columns: ':not(:last)' // Exclude the last column (Action)
                        }
                    },
                    {
                        extend: 'copy',
                        exportOptions: {
                            columns: ':not(:last)' // Exclude the last column (Action)
                        }
                    },
                    {
                        extend: 'pdf',
                        exportOptions: {
                            columns: ':not(:last)', // Exclude the last column (Action)
                        },
                      },
                    {
                        extend: 'excel',
                        exportOptions: {
                            columns: ':not(:last)' // Exclude the last column (Action)
                        }
                    },
                    {
                        extend: 'print',
                        exportOptions: {
                            columns: ':not(:last)' // Exclude the last column (Action)
                        }
                    }
                ]
            },

        ]
    });

    table.buttons().container().appendTo($('#table-buttons'));
});
  </script>
<script>
const imageInputs = document.querySelectorAll('.imageInput');
const previewImages = document.querySelectorAll('.previewImage');
imageInputs.forEach((imageInput, index) => {
    imageInput.addEventListener('change', function () {
        if (imageInput.files.length > 0) {
            const previewImage = previewImages[index];
            previewImage.src = window.URL.createObjectURL(imageInput.files[0]);
        }
    });
});
</script>
</body>
</html>